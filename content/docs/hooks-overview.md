---
id: hooks-overview
title: ãƒ•ãƒƒã‚¯æ—©ã‚ã‹ã‚Š
permalink: docs/hooks-overview.html
next: hooks-state.html
prev: hooks-intro.html
---

*ãƒ•ãƒƒã‚¯ (hook)* ã¯ React 16.8 ã§è¿½åŠ ã•ã‚ŒãŸæ–°æ©Ÿèƒ½ã§ã™ã€‚state ãªã©ã® React ã®æ©Ÿèƒ½ã‚’ã€ã‚¯ãƒ©ã‚¹ã‚’æ›¸ã‹ãšã«ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

ãƒ•ãƒƒã‚¯ã«ã¯[å¾Œæ–¹äº’æ›æ€§](/docs/hooks-intro.html#no-breaking-changes)ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®ãƒšãƒ¼ã‚¸ã§ã¯ React çµŒé¨“è€…å‘ã‘ã«ãƒ•ãƒƒã‚¯ã®æ¦‚è¦ã‚’è¿°ã¹ã¦ã„ãã¾ã™ã€‚ã“ã®ãƒšãƒ¼ã‚¸ã¯ã‹ãªã‚Šç«¯æŠ˜ã£ãŸæ¦‚è¦ã¨ãªã£ã¦ã„ã¾ã™ã€‚å›°ã£ãŸã¨ãã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªé»„è‰²ã®ãƒœãƒƒã‚¯ã‚¹ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

> è©³ã—ãã¯
>
> React ã«ãƒ•ãƒƒã‚¯ã‚’å°å…¥ã™ã‚‹å‹•æ©Ÿã«ã¤ã„ã¦ã¯[å‹•æ©Ÿ](/docs/hooks-intro.html#motivation)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

**â†‘â†‘â†‘ ãã‚Œãã‚Œã®ç¯€ã®çµ‚ã‚ã‚Šã«ä¸Šã®ã‚ˆã†ãªé»„è‰²ã„ãƒœãƒƒã‚¯ã‚¹ãŒã‚ã‚Šã¾ã™ã€‚**ã‚ˆã‚Šè©³ã—ã„èª¬æ˜ã¸ã®ãƒªãƒ³ã‚¯ã¨ãªã£ã¦ã„ã¾ã™ã€‚

## ğŸ“Œ ã‚¹ãƒ†ãƒ¼ãƒˆãƒ•ãƒƒã‚¯ {#state-hook}

ã“ã®ä¾‹ã§ã¯ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®å€¤ãŒå¢—ãˆã¾ã™ï¼š

```js{1,4,5}
import React, { useState } from 'react';

function Example() {
  // Declare a new state variable, which we'll call "count"
  const [count, setCount] = useState(0);

  return (
    <div>
      <p>You clicked {count} times</p>
      <button onClick={() => setCount(count + 1)}>
        Click me
      </button>
    </div>
  );
}
```

ã“ã®ä¾‹ã® `useState` ãŒ *ãƒ•ãƒƒã‚¯*ï¼ˆã“ã®å˜èªã®æ„å‘³ã™ã‚‹ã¨ã“ã‚ã¯ã™ãå¾Œã§èª¬æ˜ã—ã¾ã™ï¼‰ã§ã™ã€‚é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä¸­ã§ãƒ­ãƒ¼ã‚«ãƒ«ãª state ã‚’ä½¿ã†ãŸã‚ã«å‘¼ã³å‡ºã—ã¦ã„ã¾ã™ã€‚ã“ã® state ã¯ä»¥é™ã®å†ãƒ¬ãƒ³ãƒ€ãƒ¼ã®é–“ã‚‚ React ã«ã‚ˆã£ã¦ä¿æŒã•ã‚Œã¾ã™ã€‚`useState` ã¯*ç¾åœ¨ã®* state ã®å€¤ã¨ã€ãã‚Œã‚’æ›´æ–°ã™ã‚‹ãŸã‚ã®é–¢æ•°ã¨ã‚’ãƒšã‚¢ã«ã—ã¦è¿”ã—ã¾ã™ã€‚ã“ã®é–¢æ•°ã¯ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã‚„ãã®ä»–ã®å ´æ‰€ã‹ã‚‰å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚¯ãƒ©ã‚¹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ãŠã‘ã‚‹ `this.setState` ã¨ä¼¼ã¦ã„ã¾ã™ãŒã€æ–°ã—ã„ state ãŒå¤ã„ã‚‚ã®ã¨ãƒãƒ¼ã‚¸ã•ã‚Œãªã„ã¨ã„ã†é•ã„ãŒã‚ã‚Šã¾ã™ï¼ˆ`useState` ã¨ `this.state` ã®é•ã„ã«ã¤ã„ã¦ã¯[ã‚¹ãƒ†ãƒ¼ãƒˆãƒ•ãƒƒã‚¯ã®åˆ©ç”¨æ³•](/docs/hooks-state.html)ã§ä¾‹ã‚’æŒ™ã’ã¦èª¬æ˜ã—ã¾ã™ï¼‰ã€‚

`useState` ã®å”¯ä¸€ã®å¼•æ•°ã¯ state ã®åˆæœŸå€¤ã§ã™ã€‚ä¸Šè¨˜ã®ä¾‹ã§ã¯ã€ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ãŒã‚¼ãƒ­ã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆã™ã‚‹ã®ã§ `0` ã‚’æ¸¡ã—ã¦ã„ã¾ã™ã€‚`this.state` ã¨é•ã„ã€state ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚‹å¿…è¦ã¯ãªã„ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ï¼ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã—ãŸã„å ´åˆã¯ãã†ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ï¼‰ã€‚å¼•æ•°ã¨ã—ã¦æ¸¡ã•ã‚ŒãŸ state ã®åˆæœŸå€¤ã¯æœ€åˆã®ãƒ¬ãƒ³ãƒ€ãƒ¼æ™‚ã«ã®ã¿ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚

#### è¤‡æ•°ã® state å¤‰æ•°ã®å®£è¨€ {#declaring-multiple-state-variables}

1 ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ 2 å›ä»¥ä¸Šã‚¹ãƒ†ãƒ¼ãƒˆãƒ•ãƒƒã‚¯ã‚’ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ï¼š

```js
function ExampleWithManyStates() {
  // Declare multiple state variables!
  const [age, setAge] = useState(42);
  const [fruit, setFruit] = useState('banana');
  const [todos, setTodos] = useState([{ text: 'Learn Hooks' }]);
  // ...
}
```

[é…åˆ—ã®åˆ†å‰²ä»£å…¥](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#Array_destructuring)æ§‹æ–‡ã‚’ä½¿ã†ã“ã¨ã§ã€`useState` ã‚’å‘¼ã³å‡ºã—ã¦å®£è¨€ã—ãŸ state å¤‰æ•°ã«ã€ç•°ãªã‚‹åå‰ã‚’ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã‚‰ã®åå‰è‡ªä½“ã¯ `useState` ã® API ã®ä¸€éƒ¨ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãã®ä»£ã‚ã‚Šã«ã€React ã¯ `useState` ã‚’ä½•åº¦ã‚‚å‘¼ã³å‡ºã™å ´åˆã¯ã€ãã‚Œã‚‰ãŒå…¨ã¦ã®ãƒ¬ãƒ³ãƒ€ãƒ¼é–“ã§åŒã˜é †ç•ªã§å‘¼ã³å‡ºã•ã‚Œã‚‹ã‚‚ã®ã¨ä»®å®šã—ã¾ã™ã€‚ã“ã®å¾Œã§ã€ã©ã†ã—ã¦ã“ã‚ŒãŒä¸Šæ‰‹ãå‹•ä½œã—ã€ã©ã®ã‚ˆã†ãªå ´åˆã«ä¾¿åˆ©ãªã®ã‹æ”¹ã‚ã¦èª¬æ˜ã—ã¾ã™ã€‚

#### è¦ã™ã‚‹ã«ãƒ•ãƒƒã‚¯ã¨ã¯ï¼Ÿ {#but-what-is-a-hook}

ãƒ•ãƒƒã‚¯ã¨ã¯ã€é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã« state ã‚„ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¨ã„ã£ãŸ React ã®æ©Ÿèƒ½ã‚’ "æ¥ç¶šã™ã‚‹ (hook into)" ãŸã‚ã®é–¢æ•°ã§ã™ã€‚ãƒ•ãƒƒã‚¯ã¯ React ã‚’ã‚¯ãƒ©ã‚¹ãªã—ã«ä½¿ã†ãŸã‚ã®æ©Ÿèƒ½ã§ã™ã®ã§ã€ã‚¯ãƒ©ã‚¹å†…ã§ã¯æ©Ÿèƒ½ã—ã¾ã›ã‚“ã€‚ä»Šã™ãã«æ—¢å­˜ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ›¸ãæ›ãˆã‚‹ã“ã¨ã¯[ãŠå‹§ã‚ã—ã¾ã›ã‚“](/docs/hooks-intro.html#gradual-adoption-strategy)ãŒã€æ–°ã—ãæ›¸ãã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ã„ãŸã‘ã‚Œã°ãƒ•ãƒƒã‚¯ã‚’åˆ©ç”¨ã—å§‹ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

React ã¯ `useState` ã®ã‚ˆã†ãªå¹¾ã¤ã‹ã®ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ã®ãƒ•ãƒƒã‚¯ã‚’æä¾›ã—ã¾ã™ã€‚ç•°ãªã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã§ã‚¹ãƒ†ãƒ¼ãƒˆãƒ•ãƒ«ãªæŒ¯ã‚‹èˆã„ã‚’å…±æœ‰ã™ã‚‹ãŸã‚ã«è‡ªåˆ†è‡ªèº«ã®ãƒ•ãƒƒã‚¯ã‚’ä½œæˆã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ã¾ãšã¯çµ„ã¿è¾¼ã¿ã®ãƒ•ãƒƒã‚¯ã‹ã‚‰è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

> è©³ã—ãã¯
>
> ã‚¹ãƒ†ãƒ¼ãƒˆãƒ•ãƒƒã‚¯ã«ã¤ã„ã¦ã¯ã“ã¡ã‚‰ã®ãƒšãƒ¼ã‚¸ã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼š[ã‚¹ãƒ†ãƒ¼ãƒˆãƒ•ãƒƒã‚¯ã®åˆ©ç”¨æ³•](/docs/hooks-state.html).

## âš¡ï¸ å‰¯ä½œç”¨ãƒ•ãƒƒã‚¯ {#effect-hook}

ã“ã‚Œã¾ã§ã« React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å†…éƒ¨ã‹ã‚‰ã€å¤–éƒ¨ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã‚„è³¼èª­ (subscription)ã€ã‚ã‚‹ã„ã¯æ‰‹å‹•ã§ã® DOM æ›´æ–°ã‚’è¡Œã£ãŸã“ã¨ãŒãŠã‚ã‚Šã§ã—ã‚‡ã†ã€‚ã“ã‚Œã‚‰ã®æ“ä½œã¯ä»–ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«å½±éŸ¿ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã€ã¾ãŸãƒ¬ãƒ³ãƒ€ãƒ¼ã®æœ€ä¸­ã«å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ããªã„ã®ã§ã€ã‚ã‚Œã‚ã‚Œã¯ã“ã®ã‚ˆã†ãªæ“ä½œã‚’ "å‰¯ä½œç”¨ (side-effects)"ã€ã‚ã‚‹ã„ã¯çœç•¥ã—ã¦ "ä½œç”¨ (effects)" ã¨å‘¼ã‚“ã§ã„ã¾ã™ã€‚

`useEffect` ã¯å‰¯ä½œç”¨ã®ãŸã‚ã®ãƒ•ãƒƒã‚¯ã§ã‚ã‚Šã€é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§å‰¯ä½œç”¨ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚ã‚¯ãƒ©ã‚¹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ãŠã‘ã‚‹ `componentDidMount`, `componentDidUpdate` ãŠã‚ˆã³ `componentWillUnmount` ã¨åŒæ§˜ã®ç›®çš„ã§ä½¿ã†ã‚‚ã®ã§ã™ãŒã€1 ã¤ã® API ã«çµ±åˆã•ã‚Œã¦ã„ã¾ã™ï¼ˆã“ã‚Œã‚‰ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¨ `useEffect` ã¨ã®é•ã„ã«ã¤ã„ã¦ã¯[å‰¯ä½œç”¨ãƒ•ãƒƒã‚¯ã®åˆ©ç”¨æ³•](/docs/hooks-effect.html)ã§ä¾‹ã‚’æŒ™ã’ã¦èª¬æ˜ã—ã¾ã™ï¼‰ã€‚

ä¾‹ãˆã°ã€ã“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ React ãŒ DOM ã‚’æ›´æ–°ã—ãŸå¾Œã§ã€HTML ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’è¨­å®šã—ã¾ã™ã€‚

```js{1,6-10}
import React, { useState, useEffect } from 'react';

function Example() {
  const [count, setCount] = useState(0);

  // Similar to componentDidMount and componentDidUpdate:
  useEffect(() => {
    // Update the document title using the browser API
    document.title = `You clicked ${count} times`;
  });

  return (
    <div>
      <p>You clicked {count} times</p>
      <button onClick={() => setCount(count + 1)}>
        Click me
      </button>
    </div>
  );
}
```

`useEffect` ã‚’å‘¼ã¶ã“ã¨ã§ã€DOM ã¸ã®æ›´æ–°ã‚’åæ˜ ã—ãŸå¾Œã«ã‚ãªãŸãŒå®šç¾©ã™ã‚‹ã€Œå‰¯ä½œç”¨é–¢æ•°ã€ã‚’å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã« React ã«æŒ‡ç¤ºã—ã¾ã™ã€‚å‰¯ä½œç”¨ã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§å®£è¨€ã•ã‚Œã‚‹ã®ã§ã€props ã‚„ state ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯åˆå›ã®ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚‚*å«ã‚€*æ¯å›ã®ãƒ¬ãƒ³ãƒ€ãƒ¼æ™‚ã«ã“ã®å‰¯ä½œç”¨é–¢æ•°ãŒå‘¼ã³å‡ºã•ã‚Œã¾ã™ï¼ˆã‚¯ãƒ©ã‚¹ã«ãŠã‘ã‚‹ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã®æ¯”è¼ƒã¯[å‰¯ä½œç”¨ãƒ•ãƒƒã‚¯ã®åˆ©ç”¨æ³•](/docs/hooks-effect.html)ã§è©³ã—ãè¿°ã¹ã¾ã™ï¼‰ã€‚

å‰¯ä½œç”¨ã¯è‡ªåˆ†ã‚’ã€Œã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã€ã™ã‚‹ãŸã‚ã®ã‚³ãƒ¼ãƒ‰ã‚’ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ã—ã¦é–¢æ•°ã‚’è¿”ã™ã“ã¨ã§æŒ‡å®šã§ãã¾ã™ã€‚ä¾‹ãˆã°ã€ä»¥ä¸‹ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã¯å‰¯ä½œç”¨ã‚’åˆ©ç”¨ã—ã¦ã€ãƒ•ãƒ¬ãƒ³ãƒ‰ã®ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’è³¼èª­ã—ã€ã¾ãŸã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã¨ã—ã¦è³¼èª­ã®è§£é™¤ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚

```js{10-16}
import React, { useState, useEffect } from 'react';

function FriendStatus(props) {
  const [isOnline, setIsOnline] = useState(null);

  function handleStatusChange(status) {
    setIsOnline(status.isOnline);
  }

  useEffect(() => {
    ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);

    return () => {
      ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);
    };
  });

  if (isOnline === null) {
    return 'Loading...';
  }
  return isOnline ? 'Online' : 'Offline';
}
```

ã“ã®ä¾‹ã§ã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒã‚¢ãƒ³ãƒã‚¦ãƒ³ãƒˆã•ã‚Œã‚‹æ™‚ã‚„å†ãƒ¬ãƒ³ãƒ€ãƒ¼ã«ã‚ˆã£ã¦å‰¯ä½œç”¨ãŒå†å®Ÿè¡Œã•ã‚Œã‚‹æ™‚ã« `ChatAPI` ã®è³¼èª­è§£é™¤ã‚’è¡Œã£ã¦ã„ã¾ã™ï¼ˆå¿…è¦ãªã‚‰ã€`ChatAPI` ã«æ¸¡ã™ãŸã‚ã® `props.friend.id` ãŒå¤‰ã‚ã£ã¦ã„ãªã„å ´åˆã«ã¯[æ¯å›è³¼èª­ã—ãªãŠã™å‡¦ç†ã‚’ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹](/docs/hooks-effect.html#tip-optimizing-performance-by-skipping-effects)æ–¹æ³•ãŒã‚ã‚Šã¾ã™ï¼‰ã€‚

`useState` ã®å ´åˆã¨åŒæ§˜ã€1 ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ 2 ã¤ä»¥ä¸Šã®å‰¯ä½œç”¨ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚

```js{3,8}
function FriendStatusWithCounter(props) {
  const [count, setCount] = useState(0);
  useEffect(() => {
    document.title = `You clicked ${count} times`;
  });

  const [isOnline, setIsOnline] = useState(null);
  useEffect(() => {
    ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);
    return () => {
      ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);
    };
  });

  function handleStatusChange(status) {
    setIsOnline(status.isOnline);
  }
  // ...
```

ãƒ•ãƒƒã‚¯ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ¡ã‚½ãƒƒãƒ‰ã®å ´åˆã¯åˆ†é›¢ã—ã¦æ›¸ã‹ã–ã‚‹ã‚’å¾—ãªã‹ã£ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã®å‰¯ä½œç”¨ã‚’ã€é–¢é€£ã™ã‚‹éƒ¨åˆ†ï¼ˆãƒªã‚½ãƒ¼ã‚¹ã®è³¼èª­ã¨ãã®è§£é™¤ã€ãªã©ï¼‰åŒå£«ã§æ•´ç†ã—ã¦è¨˜è¼‰ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

> è©³ã—ãã¯
>
> `useEffect` ã«ã¤ã„ã¦ã®æ›´ãªã‚‹è©³ç´°ã¯[å‰¯ä½œç”¨ãƒ•ãƒƒã‚¯ã®åˆ©ç”¨æ³•](/docs/hooks-effect.html)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## âœŒï¸ ãƒ•ãƒƒã‚¯ã®ãƒ«ãƒ¼ãƒ« {#rules-of-hooks}

ãƒ•ãƒƒã‚¯ã¯ JavaScript ã®é–¢æ•°ã§ã™ãŒã€2 ã¤ã®è¿½åŠ ã®ãƒ«ãƒ¼ãƒ«ãŒã‚ã‚Šã¾ã™ã€‚

* ãƒ•ãƒƒã‚¯ã¯é–¢æ•°ã®**ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã®ã¿ã§**å‘¼ã³å‡ºã—ã¦ãã ã•ã„ã€‚ãƒ«ãƒ¼ãƒ—ã‚„æ¡ä»¶åˆ†å²ã‚„ãƒã‚¹ãƒˆã—ãŸé–¢æ•°ã®ä¸­ã§ãƒ•ãƒƒã‚¯ã‚’å‘¼ã³å‡ºã•ãªã„ã§ãã ã•ã„ã€‚
* ãƒ•ãƒƒã‚¯ã¯ React ã®**é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å†…éƒ¨ã®ã¿ã§**å‘¼ã³å‡ºã—ã¦ãã ã•ã„ã€‚é€šå¸¸ã® JavaScript é–¢æ•°å†…ã§ã¯å‘¼ã³å‡ºã•ãªã„ã§ãã ã•ã„ï¼ˆãŸã ã—ãƒ•ãƒƒã‚¯ã‚’å‘¼ã³å‡ºã—ã¦ã„ã„å ´æ‰€ãŒã‚‚ã† 1 ã‚«æ‰€ã ã‘ã‚ã‚Šã¾ã™ &mdash; è‡ªåˆ†ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã®ä¸­ã§ã™ã€‚ã“ã‚Œã«ã¤ã„ã¦ã¯ã™ãå¾Œã§å­¦ã³ã¾ã™ï¼‰ã€‚

ã“ã‚Œã‚‰ã®ãƒ«ãƒ¼ãƒ«ã‚’è‡ªå‹•çš„ã«å¼·åˆ¶ã™ã‚‹ãŸã‚ã® [linter plugin](https://www.npmjs.com/package/eslint-plugin-react-hooks) ã‚’ç”¨æ„ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚‰ã®ãƒ«ãƒ¼ãƒ«ã¯æœ€åˆã¯æ··ä¹±ã—ã‚„ã™ã‹ã£ãŸã‚Šåˆ¶é™ã®ã‚ˆã†ã«æ€ãˆãŸã‚Šã™ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ãƒ•ãƒƒã‚¯ãŒã†ã¾ãå‹•ããŸã‚ã«ã¯é‡è¦ãªã‚‚ã®ã§ã™ã€‚

> è©³ã—ãã¯
>
> ã“ã‚Œã‚‰ã®ãƒ«ãƒ¼ãƒ«ã«ã¤ã„ã¦ã®è©³ç´°ã¯[ãƒ•ãƒƒã‚¯ã®ãƒ«ãƒ¼ãƒ«](/docs/hooks-rules.html)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ’¡ ç‹¬è‡ªãƒ•ãƒƒã‚¯ã®ä½œæˆ {#building-your-own-hooks}

state ã‚’ç”¨ã„ãŸãƒ­ã‚¸ãƒƒã‚¯ã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã§å†åˆ©ç”¨ã—ãŸã„ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¾ã§ã¯ã€ã“ã®ã‚ˆã†ãªå•é¡Œã«å¯¾ã—ã¦ 2 ç¨®é¡ã®äººæ°—ã®è§£æ±ºæ–¹æ³•ãŒã‚ã‚Šã¾ã—ãŸã€‚[é«˜éšã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](/docs/higher-order-components.html)ã¨[ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ—ãƒ­ãƒƒãƒ—](/docs/render-props.html)ã§ã™ã€‚ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€åŒæ§˜ã®ã“ã¨ãŒã€ãƒ„ãƒªãƒ¼å†…ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å¢—ã‚„ã™ã“ã¨ãªãè¡Œãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

ã“ã®ãƒšãƒ¼ã‚¸ã®ä¸Šå´ã§ã€`useState` ã¨ `useEffect` ã®ä¸¡æ–¹ã®ãƒ•ãƒƒã‚¯ã‚’å‘¼ã³å‡ºã—ã¦ãƒ•ãƒ¬ãƒ³ãƒ‰ã®ã‚ªãƒ³ãƒ©ã‚¤ãƒ³çŠ¶æ…‹ã‚’è³¼èª­ã™ã‚‹ `FriendStatus` ã¨ã„ã†ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚ã“ã®è³¼èª­ãƒ­ã‚¸ãƒƒã‚¯ã‚’åˆ¥ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã‚‚ä½¿ã„ãŸããªã£ãŸã¨ã—ã¾ã—ã‚‡ã†ã€‚

ã¾ãšã€ã“ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’ `useFriendStatus` ã¨ã„ã†ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã¸ã¨æŠ½å‡ºã—ã¾ã™ã€‚

```js{3}
import React, { useState, useEffect } from 'react';

function useFriendStatus(friendID) {
  const [isOnline, setIsOnline] = useState(null);

  function handleStatusChange(status) {
    setIsOnline(status.isOnline);
  }

  useEffect(() => {
    ChatAPI.subscribeToFriendStatus(friendID, handleStatusChange);
    return () => {
      ChatAPI.unsubscribeFromFriendStatus(friendID, handleStatusChange);
    };
  });

  return isOnline;
}
```

ã“ã‚Œã¯ `friendID` ã‚’å¼•æ•°ã¨ã—ã¦å—ã‘å–ã‚Šã€ãƒ•ãƒ¬ãƒ³ãƒ‰ãŒã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‹ã©ã†ã‹ã‚’è¿”ã—ã¾ã™ã€‚

ã“ã‚Œã§ä¸¡æ–¹ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰ã“ã®ãƒ­ã‚¸ãƒƒã‚¯ãŒä½¿ãˆã¾ã™ï¼š


```js{2}
function FriendStatus(props) {
  const isOnline = useFriendStatus(props.friend.id);

  if (isOnline === null) {
    return 'Loading...';
  }
  return isOnline ? 'Online' : 'Offline';
}
```

```js{2}
function FriendListItem(props) {
  const isOnline = useFriendStatus(props.friend.id);

  return (
    <li style={{ color: isOnline ? 'green' : 'black' }}>
      {props.friend.name}
    </li>
  );
}
```

ãã‚Œãã‚Œã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã® state ã¯å®Œå…¨ã«ç‹¬ç«‹ã—ã¦ã„ã¾ã™ã€‚ãƒ•ãƒƒã‚¯ã¯ *state ã‚’ç”¨ã„ãŸãƒ­ã‚¸ãƒƒã‚¯*ã‚’å†åˆ©ç”¨ã™ã‚‹ã‚‚ã®ã§ã‚ã£ã¦ã€state ãã®ã‚‚ã®ã‚’å†åˆ©ç”¨ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚å®Ÿã®ã¨ã“ã‚ã€ãƒ•ãƒƒã‚¯ã®ãã‚Œãã‚Œã®*å‘¼ã³å‡ºã—*ãŒç‹¬ç«‹ã—ãŸ state ã‚’æŒã£ã¦ã„ã¾ã™ã®ã§ã€å…¨ãåŒã˜ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’ 1 ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ 2 å›å‘¼ã³å‡ºã™ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚

ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã¯ã€æ©Ÿèƒ½ã¨ã„ã†ã‚ˆã‚Šã¯ã‚€ã—ã‚æ…£ç¿’ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚é–¢æ•°ã®åå‰ãŒ "`use`" ã‹ã‚‰å§‹ã¾ã£ã¦ã€ãã®é–¢æ•°ãŒä»–ã®ãƒ•ãƒƒã‚¯ã‚’å‘¼ã³å‡ºã—ã¦ã„ã‚‹ãªã‚‰ã€ãã‚Œã‚’ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã¨è¨€ã†ã“ã¨ã«ã™ã‚‹ã€ã¨ã„ã†ã“ã¨ã§ã™ã€‚ã“ã® `useSomething` ã¨ã„ã†å‘½åè¦ç´„ã«ã‚ˆã£ã¦ã€æˆ‘ã€…ã® linter ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ãƒ•ãƒƒã‚¯ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ã‚³ãƒ¼ãƒ‰ã®ãƒã‚°ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã¯ã€ãƒ•ã‚©ãƒ¼ãƒ ç®¡ç†ã‚„ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚„ã€å®£è¨€çš„ãªãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã®è³¼èª­ã‚„ã€ã‚¿ã‚¤ãƒãƒ¼ã‚„ã€ã‚ã‚‹ã„ã¯ãŠãã‚‰ãæˆ‘ã€…ãŒè€ƒãˆãŸã“ã¨ã‚‚ãªã„æ§˜ã€…ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«åˆ©ç”¨å¯èƒ½ã§ã™ã€‚React ã®ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãŒã©ã®ã‚ˆã†ãªã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’æ€ã„ã¤ãã®ã‹æ¥½ã—ã¿ã«ã—ã¦ã„ã¾ã™ã€‚

> è©³ã—ãã¯
>
> ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã«ã¤ã„ã¦ã®è©³ã—ã„æƒ…å ±ã¯[ç‹¬è‡ªãƒ•ãƒƒã‚¯ã®ä½œæˆ](/docs/hooks-custom.html)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ”Œ ãã®ä»–ã®ãƒ•ãƒƒã‚¯ {#other-hooks}

ãã®ä»–ã«ã‚‚ã„ãã¤ã‹ã€ä½¿ç”¨é »åº¦ã¯ä½ã„ã‚‚ã®ã®ä¾¿åˆ©ãªãƒ•ãƒƒã‚¯ãŒå­˜åœ¨ã—ã¦ã„ã¾ã™ã€‚ä¾‹ãˆã°ã€[`useContext`](/docs/hooks-reference.html#usecontext) ã‚’ä½¿ãˆã° React ã®ã‚³ãƒ³ãƒ†ã‚¯ã‚¹ãƒˆã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒã‚¹ãƒˆãªã—ã«åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼š

```js{2,3}
function Example() {
  const locale = useContext(LocaleContext);
  const theme = useContext(ThemeContext);
  // ...
}
```

ã¾ãŸ [`useReducer`](/docs/hooks-reference.html#usereducer) ã‚’ä½¿ãˆã°è¤‡é›‘ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ­ãƒ¼ã‚«ãƒ« state ã‚’ãƒªãƒ‡ãƒ¥ãƒ¼ã‚µ (reducer) ã‚’ç”¨ã„ã¦ç®¡ç†ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼š

```js{2}
function Todos() {
  const [todos, dispatch] = useReducer(todosReducer);
  // ...
```

> è©³ã—ãã¯
>
> å…¨ã¦ã®ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ãƒ•ãƒƒã‚¯ã«ã¤ã„ã¦ã®è©³ç´°ã¯[ãƒ•ãƒƒã‚¯ API ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹](/docs/hooks-reference.html)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ— {#next-steps}

ã‹ãªã‚Šé§†ã‘è¶³ã®èª¬æ˜ã§ã—ãŸã­ï¼ ã¾ã ã‚ˆãåˆ†ã‹ã‚‰ãªã„ã“ã¨ãŒã‚ã£ãŸå ´åˆã‚„ã€ã‚ˆã‚Šè©³ã—ãå­¦ã³ãŸã„ã¨æ€ã£ãŸå ´åˆã¯ã€[ã‚¹ãƒ†ãƒ¼ãƒˆãƒ•ãƒƒã‚¯](/docs/hooks-state.html)ã‹ã‚‰å§‹ã¾ã‚‹ã“ã®å…ˆã®ãƒšãƒ¼ã‚¸ã«é€²ã‚“ã§ãã ã•ã„ã€‚

[ãƒ•ãƒƒã‚¯ API ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹](/docs/hooks-reference.html)ã¨[ã‚ˆãã‚ã‚‹è³ªå•](/docs/hooks-faq.html)ã‚‚å‚ç…§ã—ã¦ãã ã•ã„ã€‚

æœ€å¾Œã«ãªã‚Šã¾ã—ãŸãŒã€[ãƒ•ãƒƒã‚¯ã®ç´¹ä»‹ãƒšãƒ¼ã‚¸](/docs/hooks-intro.html)ã‚‚ãŠå¿˜ã‚Œãªãï¼ ãã“ã§ã¯*ãªãœ*æˆ‘ã€…ãŒãƒ•ãƒƒã‚¯ã‚’å°å…¥ã™ã‚‹ã“ã¨ã«ã—ãŸã®ã‹ã€ã¾ãŸã‚¢ãƒ—ãƒªå…¨ä½“ã‚’æ›¸ãæ›ãˆãšã«ã‚¯ãƒ©ã‚¹ã¨ä½µç”¨ã—ã¦ã©ã®ã‚ˆã†ã«ãƒ•ãƒƒã‚¯ã‚’ä½¿ã£ã¦ã„ãã®ã‹ã€ã«ã¤ã„ã¦èª¬æ˜ã—ã¦ã„ã¾ã™ã€‚
